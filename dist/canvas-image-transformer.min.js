const CanvasImageTransformer=function(){var d=function(e,f,h,j){return(e<<24)+(f<<16)+(h<<8)+j};return{colorToRGBA:function(e){return[255&e>>24,255&e>>16,255&e>>8,255&e]},rgbaToColor:d,imageToCanvas:function(e,f,h,j){j&&(e.width>e.height?h*=e.height/e.width:e.height>e.width&&(f*=e.width/e.height));var k=document.createElement('canvas');k.width=f,k.height=h;var l=k.getContext('2d');return l.drawImage(e,0,0,f,h),k},toGrayscale:function(e){for(var k,f=e.getContext('2d'),h=f.getImageData(0,0,e.width,e.height),j=0;j<h.data.length;j+=4)k=parseInt(255*(0.2126*(h.data[j]/255)+0.7152*(h.data[j+1]/255)+0.0722*(h.data[j+2]/255))),h.data[j]=k,h.data[j+1]=k,h.data[j+2]=k,h.data[j+3]=255;return f.putImageData(h,0,0),e},toBlackAndWhite:function(e){for(var k,f=e.getContext('2d'),h=f.getImageData(0,0,e.width,e.height),j=0;j<h.data.length;j+=4)k=0.2126*(h.data[j]/255)+0.7152*(h.data[j+1]/255)+0.0722*(h.data[j+2]/255),0.5>k?(h.data[j]=0,h.data[j+1]=0,h.data[j+2]=0,h.data[j+3]=255):(h.data[j]=255,h.data[j+1]=255,h.data[j+2]=255,h.data[j+3]=255);return f.putImageData(h,0,0),e},computeColorFrequencyMap:function(e){for(var l,f=new Map,h=e.getContext('2d'),j=h.getImageData(0,0,e.width,e.height),k=0;k<j.data.length;k+=4)l=d(j.data[k],j.data[k+1],j.data[k+2],j.data[k+3]),f.has(l)?f.set(l,f.get(l)+1):f.set(l,1);return f}}}();'undefined'!=typeof module&&module.exports&&(module.exports=CanvasImageTransformer);